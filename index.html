<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<!-- Firebase SDK (compat ç‰ˆï¼Œæœ€ç°¡å–®æ¥) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="https://apis.google.com/js/api.js"></script>


<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="icon" type="image/png" sizes="32x32" href="reminder.png">
<link rel="apple-touch-icon" sizes="180x180" href="reminder.png">
<link rel="manifest" href="manifest.json">

  <title>MyTask</title>
  <style>

/* æ—¥æœŸè¼¸å…¥æ¬„ä½ï¼šå›ºå®šé«˜åº¦ï¼ŒiOS/Android/æ¡Œæ©Ÿä¸€è‡´ */
input[type="date"] {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  font-size: 1rem;
  -webkit-appearance: none;
  flex: 1;
  min-width: 0;
  
  /* å›ºå®šé«˜åº¦ï¼Œé¿å…æœ‰ç„¡æ—¥æœŸæ™‚è·³å‹• */
  height: 38px;       /* ä½ å¯ä»¥ä¾ç¾æœ‰è¡¨å–®é«˜åº¦èª¿æ•´ï¼Œä¾‹å¦‚ 36px æˆ– 40px */
  line-height: 38px;  /* è·Ÿ height ä¸€æ¨£ï¼Œç¢ºä¿æ–‡å­—å‚ç›´ç½®ä¸­ */
}
/* å…¨åŸŸè¼¸å…¥å…ƒä»¶å­—é«”å¤§å° */
input, select, textarea, option {
  font-size: 16px;     /* æ¨è–¦æ‰‹æ©Ÿå®‰å…¨å­—é«”å¤§å°ï¼Œé¿å… iOS è‡ªå‹•æ”¾å¤§ */
  line-height: 1.4;    /* è¡Œé«˜ç¨å¾®åŠ é«˜ä¸€é»ï¼Œé–±è®€æ›´èˆ’æœ */
}
button {
  font-size: 15px;
}

    :root {
      --blue-light: #ebf5fc;
      --green-light: #e6f9f0;
      --yellow-light: #fffbe6;
      --white: #ffffff;
      --gray-text: #444;
      --urgent-color: #ffeaea;
  --app-bg: var(--blue-light);
    }
    * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body {
  margin: 0; padding: 1rem; background-color: var(--app-bg);
  color: var(--gray-text); display: flex; justify-content: center;
}
    .container { width: 100%; max-width: 480px; position: relative; }
h1 {
  display: inline-flex;  /* åŸæœ¬æ˜¯ flex */
  align-items: center;
  justify-content: center;
  gap: 10px;
  font-size: 24px;
  margin: 6px 0 10px;
  padding: 4px 10px;
  border-radius: 8px;
  transition: background-color .2s, box-shadow .2s;
}

h1:hover {
  background: rgba(0,0,0,.05);
  box-shadow: 0 0 0 2px rgba(0,0,0,.08) inset;
}
    .section {
      background-color: #ffffff; border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
      padding: 1rem; margin-bottom: 1rem;
    }
    .section-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 0.5rem; }
    .task {
      display: flex; justify-content: space-between; align-items: center;
      background-color: var(--yellow-light); padding: 0.75rem 1rem;
      border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer;
    }
    .task-content { flex: 1; }
    .task-title { font-size: 1.2rem;font-weight: 600; margin-bottom: 0.25rem; }
    .task-due { font-size: 0.85rem; color: #888; }
    .task-days {
      background-color: var(--yellow-light); color: brown;
      border-radius: 50%; padding: 0.4rem 0.6rem; font-size: 0.85rem;
      font-weight: bold; flex-shrink: 0; text-align: center; margin-left: 1rem;
    }
    .fab {
      position: fixed; bottom: 24px; right: 24px; width: 40px; height: 40px;
      background-color: #00aaff; color: white; border-radius: 50%; font-size: 32px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); z-index: 10;
    }
    .menu {
      position: fixed; bottom: 90px; right: 24px; background-color: white;
      border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: none; flex-direction: column; z-index: 9;
    }
    .menu button {
      border: none; background: none; padding: 12px 16px;
      font-size: 14px; text-align: left; cursor: pointer;
    }

    .modal {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background-color: rgba(0, 0, 0, 0.3); display: none;
      justify-content: center; align-items: center; z-index: 20;
    }
    .modal-content {
      background-color: white; padding: 1rem; border-radius: 12px;
      width: 90%; max-width: 400px; position: relative;
    }
    .modal-content label { display: block; margin-top: 0.5rem; font-size: 0.9rem; }
/* åªçµ¦è¼¸å…¥æ¡†/ä¸‹æ‹‰/æ–‡å­—å€ï¼Œæ’é™¤ radio & checkbox */
.modal-content input:not([type="radio"]):not([type="checkbox"]),
.modal-content select,
.modal-content textarea {
  width: 100%;
  padding: 0.5rem;
  margin-top: 0.25rem;
  border: 1px solid #ccc;
  border-radius: 6px;
}

//å„²å­˜æŒ‰éˆ•
.save-btn {
  background-color: #009973;
  color: white;
  border: none;
  padding: 0.5rem;
  border-radius: 6px;
  cursor: pointer;
  margin-bottom: 0.5rem;
  width: 100%;
}
.save-btn:hover {
  background-color: #008060;
}

.modal-content > button {
  margin-top: 1rem;
  width: 100%;
  padding: 0.5rem;
  background-color: #00aaff;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}


.save-btn-half, .delete-btn-half {
  flex: 1;
  padding: 0.5rem;
  border-radius: 6px;
  cursor: pointer;
  width: 50%;
  border: none;
}

.save-btn-half {
  background-color: #77d4bc;
  color: white;
}
.save-btn-half:hover {
  background-color: #008060;
}

.delete-btn-half {
  background-color: #fc9a9a;
  color: white;
}
.delete-btn-half:hover {
  background-color: #cc3333;
}

.close-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 28px;
  height: 28px;
  padding: 0;
  margin: 0;
  border: none;
  border-radius: 50%;
  background-color: #eee;
  color: #333;
  font-size: 16px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.modal-content > .close-btn {
  width: auto;
}

#check-success {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999;
  width: 100px;
  height: 100px;
  opacity: 0;
  pointer-events: none;
}

#check-success.show {
  animation: pop-in 1.5s ease forwards;
}

#check-success svg {
  width: 100px;
  height: 100px;
}

.circle {
  stroke: #a2f4c5;
  stroke-width: 4;
  stroke-dasharray: 157;
  stroke-dashoffset: 157;
  animation: draw-circle 0.5s ease-out forwards;
}

.check {
  stroke: #2ecc71;
  stroke-width: 5;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 30;
  stroke-dashoffset: 30;
  animation: draw-check 0.3s 0.5s ease-out forwards;
}

@keyframes draw-circle {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes draw-check {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes pop-in {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
    filter: blur(4px);
  }
  40% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.1);
    filter: blur(0);
  }
  80% {
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.8);
  }
}
.confirm-buttons {
  display: flex;
  gap: 0.75rem;
  margin-top: 1.5rem;
}

.confirm-buttons button {
  flex: 1;
  padding: 0.6rem;
  font-size: 1rem;
  font-weight: bold;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.confirm-btn {
  background-color: #fc9a9a;
  color: white;
}
.confirm-btn:hover {
  background-color: #cc4444;
}

.cancel-btn {
  background-color: #f0f0f0;
  color: #333;
}
.cancel-btn:hover {
  background-color: #ddd;
}

//ç·¨è¼¯åˆ†é¡ç”¨
.section.edit-mode {
  position: relative;
  padding-left: 2.5rem;
}

.section-title {
  position: relative; /* æ–°å¢é€™ä¸€è¡Œè®“å…§éƒ¨çµ•å°å®šä½ç”Ÿæ•ˆ */
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.drag-handle {
  display: inline-block;
  margin-right: 0.5rem;
  font-size: 1.2rem;
  cursor: grab;
  color: #888;
  vertical-align: middle;
}


.delete-btn {
  position: absolute;
  top: 0;
  right: 0;
  background-color: transparent;
  border: none;
  font-size: 1rem;
  color: #999;
  cursor: pointer;
  display: none;
}
.section.edit-mode .delete-btn {
  display: block;
}

.section.dragging {
  opacity: 0.5;
  background-color: transparent !important;
}

.dragging {
  opacity: 0.6;
  background: #eef8ff;
}


/* é‡å‘½åæŒ‰éˆ• */
/* è®“æ¨™é¡Œæˆä¸€è¡Œæ’åˆ—ï¼šâ˜°ã€æ¨™é¡Œæ–‡å­—ã€âœï¼ˆåˆªé™¤éµä¾ç„¶åœ¨å³ä¸Šè§’çµ•å°å®šä½ï¼‰ */
.section-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* é‰›ç­†è·Ÿåœ¨æ¨™é¡Œæ–‡å­—å¾Œæ–¹ï¼ˆä¸è¦çµ•å°å®šä½ï¼‰ */
.rename-btn {
  position: static;           /* é‡è¦ï¼šå–æ¶ˆåŸæœ¬çš„ absolute */
  display: none;              /* åªæœ‰ç·¨è¼¯æ¨¡å¼æ‰é¡¯ç¤º */
  background: transparent;
  border: none;
  font-size: 1rem;
  color: #999;
  cursor: pointer;
  margin-left: 0.8rem;
transform: translateY(-2.2px); /* â¬† å¾€ä¸Š 2pxï¼Œå¯è‡ªè¡Œèª¿æ•´ */
  padding: 0;                 /* å–æ¶ˆå°æ–¹å¡Šå¤–æ¡†æ„Ÿ */
}
.section.edit-mode .rename-btn { display: inline-flex; }

/* æ›´å¤šåŠŸèƒ½ï¼ˆä¿®æ­£å¾Œï¼‰*/
/* å³ä¸Šè§’ ... æŒ‰éˆ• */
.more-btn {
  position: fixed;
  top: 12px;
  left: 12px;
  width: 32px;      /* ç¸®å°å¯¬ */
  height: 32px;     /* ç¸®å°é«˜ */
  border-radius: 50%;
  background: #fff;
  color: #555;
  font-size: 18px;  /* å­—é«”ä¹Ÿç¸®å° */
  font-weight: bold;
  display: flex;
  align-items: center;    /* å‚ç›´ç½®ä¸­ */
  justify-content: center;/* æ°´å¹³ç½®ä¸­ */
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  cursor: pointer;
  z-index: 100;
  line-height: 1;         /* ç¢ºä¿æ–‡å­—å‚ç›´å±…ä¸­ */
}



/* æ›´å¤šåŠŸèƒ½ Modal */
#moreModal .modal-content {
  max-width: 300px;
}
.filter-days {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: -1rem;
}
.filter-days label {
  display: flex;
  align-items: center;
  gap: 0.3rem;
  font-size: 0.9rem;
}

/* æ­·å²ç´€éŒ„ */
.filter-status {
  display: flex;
  gap: 1rem;    
  margin-top: -1rem;           /* å…©å€‹é¸é …ä¹‹é–“çš„è·é›¢ */
}

.filter-status label {
  display: inline-flex;    /* é—œéµï¼šè®“â—‹å’Œæ–‡å­—åœ¨åŒä¸€è¡Œ */
  align-items: center;
  gap: 0.25rem;            /* â—‹ å’Œæ–‡å­—è·é›¢ */
  white-space: nowrap;     /* ç¦æ­¢æ–‡å­—æ›è¡Œ */
}

/* å¤©æ•¸è¨­å®š */
.filter-mode {
  display: flex;
  gap: 1rem;          /* é¸é …ä¹‹é–“è·é›¢ */
  margin-top: -1rem;  /* è·Ÿä¸Šæ–¹æ¨™é¡Œçš„è·é›¢å¯ä¾éœ€æ±‚èª¿æ•´ */
}

.filter-mode label {
  display: inline-flex;     /* â—‹ å’Œæ–‡å­—åŒä¸€è¡Œ */
  align-items: center;
  gap: 0.25rem;             /* â—‹ å’Œæ–‡å­—è·é›¢ */
  white-space: nowrap;      /* ç¦æ­¢æ›è¡Œ */
}

.logout-btn{
  width:100%;
font-size:15px;
  padding:0.6rem;
  background:#f5f5f5;
  color:#333;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
.logout-btn:hover{ background:#eee; }

/* çµ±ä¸€æŠŠæ‰€æœ‰ modal è“‹åœ¨é é¢ä¸Š */
.modal { z-index: 200; }

/* â‹¯ é¸å–®çš„å±¤ç´šç¨ä½ä¸€é» */
#moreModal { z-index: 180; }

/* ç™»å‡ºç¢ºèªå†é«˜ä¸€é»ï¼Œç¢ºä¿æ°¸é åœ¨æœ€ä¸Šé¢ */
#logoutModal { z-index: 220; }

/* ç™»å…¥CSS */
#loginPage{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  background:var(--blue-light);
}

/* ç™½è‰²å¡ç‰‡ï¼šé€™è£¡æ§åˆ¶å¯¬åº¦ã€åœ“è§’ã€é™°å½±ã€å…§è· */
#loginCard{
  position: absolute !important; /* ç„¡è¦–å‰é¢è¨­å®š */
  top: 80px;                      /* å¾€ä¸Š 20pxï¼Œä½ å¯ä»¥æ”¹ */
  left: 50%;
  transform: translateX(-50%);    /* æ°´å¹³ç½®ä¸­ */
  background:var(--white);
  border-radius:12px;          /* â† å¡ç‰‡åœ“è§’ */
  box-shadow:0 2px 6px rgba(0,0,0,0.08); /* â† å¡ç‰‡é™°å½± */
  padding:2rem;                /* â† å¡ç‰‡å…§è· */
  width:95%;
  max-width:450px;
min-height: 500px; /* æœ€å°é«˜åº¦ï¼Œå…§å®¹è¶…éæ™‚æœƒè‡ªå‹•è®Šé«˜ */

}

/* æ¨™é¡Œ */
.login-title{
  text-align:center;
  margin:0 0 1.5rem;
  font-size:28px;              /* â† æ¨™é¡Œå¤§å° */
  font-weight:800;
}

/* label èˆ‡æ¬„ä½çš„é–“è· */
.login-label{
  font-weight:600;
  margin:0.4rem 0 0.4rem;
}

/* è¼¸å…¥æ¡†å¤–è§€ï¼šé«˜åº¦ã€å­—é«”ã€åœ“è§’ã€é‚Šæ¡† */
.login-input{
  width:100%;
  height:44px;                 /* â† æ¬„ä½é«˜åº¦ */
  padding:0 12px;              /* â† æ–‡å­—å·¦å³å…§è· */
  border:1px solid #ccc;
  border-radius:8px;           /* â† æ¬„ä½åœ“è§’ */
  font-size:16px;              /* â† æ¬„ä½å­—é«”å¤§å° */
  margin:0 0 1rem;
margin-top:0.8rem;
  outline:none;
}
.login-input:focus{
  border-color:#95d3ff;
  box-shadow:0 0 0 3px rgba(0,170,255,.15);
}

/* å‹¾é¸åˆ—ï¼ˆcheckbox èˆ‡æ–‡å­—åœ¨åŒä¸€è¡Œï¼‰ */
.login-checkrow{
  display:flex;
  align-items:center;
  gap:.4rem;
  margin:0 0 1rem;
}

/* ç™»å…¥æŒ‰éˆ•å¤–è§€èˆ‡äº’å‹• */
.login-btn{
  width:100%;
  height:46px;                 /* â† æŒ‰éˆ•é«˜åº¦ */
  background:#00aaff;          /* â† æŒ‰éˆ•ä¸»è‰² */
  color:#fff;
  border:none;
  border-radius:8px;           /* â† æŒ‰éˆ•åœ“è§’ */
  font-size:16px;
  cursor:pointer;
}
.login-btn:hover{ background:#0791e6; }
.login-btn:active{ transform:translateY(1px); }

/* åº•ä¸‹ç´…è‰²æç¤º */
.login-tip{
  margin-top:1rem;
  color:#cc4444;
  font-size:0.85rem;           /* â† æç¤ºæ–‡å­—å¤§å° */
  text-align:center;
}

/* å¯é¸ï¼šå°è¢å¹•å†ç¸®ä¸€é» padding */
@media (max-width:360px){
  #loginCard{ padding:1.25rem; }
}

/* å€å¡Šåˆ†é¡ + é‡è¦ å‹¾é¸ åŒè¡Œæ’ç‰ˆ */
.inline-row {
  display: flex;
  align-items: center;
  gap: .75rem;
  margin-top: .25rem;     /* èˆ‡ä¸Šæ–¹ label çš„è·é›¢ */
}

/* ä¸‹æ‹‰é¸å–®ç¸®åˆ°ä¸€åŠå¯¬ã€é å·¦ */
.inline-row .half {
  width: 50%;
  min-width: 160px;       /* è¦–éœ€è¦å¯èª¿æˆ–æ‹¿æ‰ */
}

/* å‹¾é¸çš„å¤–è§€ */
.important-flag {
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  white-space: nowrap;
  font-size: 0.95rem;
}
.drag-handle{
  cursor: grab;
  touch-action: none;          /* é‡é»ï¼šé˜»æ­¢é è¨­æ²å‹• */
  -webkit-user-select: none;   /* iOS ä¸è¦é¸å­— */
  user-select: none;
  -webkit-user-drag: none;
}
/* å¯é¸ï¼šå…§å®¹å€ä»å¯ä¸Šä¸‹æ²å‹• */
.section { touch-action: pan-y; }


/* æ»‘å‹•å®Œæˆï¼ˆè—è‰²åŸºåº•ï¼‰ */
.slide-complete {
  margin-top: .75rem;
}

.slide-track {
  position: relative;
  height: 44px;
  border-radius: 999px;
  background: linear-gradient(0deg, #e8f4ff, #f4faff);
  border: 1px solid #d6eaff;
  overflow: hidden;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.05);
  -webkit-user-select: none;
  user-select: none;
  touch-action: none;
}

.slide-fill {
  position: absolute;
  inset: 0 auto 0 0;
  width: 0%;
  background: linear-gradient(90deg, #77c7ff, #00aaff);
  opacity: .25;
  transition: width .25s ease;
  pointer-events: none;
}

.slide-hint {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #449ad6;
  font-weight: 600;
  letter-spacing: .5px;
  pointer-events: none;
}

.slide-handle {
  position: absolute;
  top: 3px;
  left: 3px;
  width: 38px;
  height: 38px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ffffff, #e6f3ff);
  border: 1px solid #cfe6ff;
  box-shadow: 0 2px 6px rgba(0,0,0,.15);
  cursor: grab;
  transition: transform .2s ease;
}
.slide-handle:active { cursor: grabbing; }

.slide-track.done .slide-hint {
  color: #2f9e44;
}
.slide-track.done .slide-fill {
  background: linear-gradient(90deg, #7ee8b5, #2ecc71);
  opacity: .35;
}

/* åªåœ¨ç·¨è¼¯ç‹€æ…‹é¡¯ç¤ºæ»‘æ¡¿ï¼›å®Œæˆæª¢è¦–(readonly)éš±è— */
#detailModal.readonly .slide-complete { display: none; }

/* æ·ºè‰²ç‰ˆï¼šå„²å­˜ & ç§»é™¤ */
.save-btn-half,
.delete-btn-half {
  border: 1px solid transparent;
  font-weight: 600;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  transition: background-color .15s ease, box-shadow .15s ease, transform .02s ease;
}

/* å„²å­˜ï¼šè–„è–„ç¶ è— */
.save-btn-half {
  background: linear-gradient(0deg, #eefbf6, #f6fdf9);
  border-color: #ccefe2;
  color: #176d59;           /* æ·±ä¸€é»ï¼Œæ˜“è®€ */
}
.save-btn-half:hover {
  background: #e8faf3;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
.save-btn-half:active { transform: translateY(1px); }

/* ç§»é™¤ï¼šè–„è–„çŠç‘šç²‰ */
.delete-btn-half {
  background: linear-gradient(0deg, #fff3f3, #fff7f7);
  border-color: #ffd8d8;
  color: #b23b3b;           /* æ·±ä¸€é»ï¼Œæ˜“è®€ */
}
.delete-btn-half:hover {
  background: #ffeef0;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
.delete-btn-half:active { transform: translateY(1px); }

/* å…¨å¹…å„²å­˜ï¼ˆè‹¥ä½ ä¹Ÿæƒ³åŒæ­¥è®Šæ·ºï¼‰ */
.save-btn {
  background: linear-gradient(0deg, #eefbf6, #f6fdf9);
  border: 1px solid #ccefe2;
  color: #176d59;
}
.save-btn:hover { background:#e8faf3; }

/* FABï¼šé–‹åˆæ™‚æ—‹è½‰ã€é™°å½±æ›´æŸ”å’Œ */
.fab{
  position: fixed; bottom: 24px; right: 24px;
  width: 48px; height: 48px; border-radius: 50%;
  display:flex; align-items:center; justify-content:center;
  background:#00aaff; color:#fff; font-size:28px; font-weight:700;
  box-shadow: 0 10px 22px rgba(0,0,0,.18);
  cursor:pointer; z-index: 110;
  transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease;
}
.fab:active{ transform: scale(.98); }
.fab.open{ transform: rotate(45deg); }   /* æ‰“é–‹æ™‚è®Šæˆ Ã— çš„æ„Ÿè¦º */

/* æ–°ï¼šæ¥µç°¡ç»ç’ƒå¡ç‰‡æµ®å±¤ */
.menu{
  position: fixed; bottom: 88px; right: 24px;
  min-width: 100px;
  padding: 8px;
  border-radius: 14px;
  background: rgba(255,255,255,.72);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(180, 210, 255, .35);
  box-shadow: 0 12px 28px rgba(0, 60, 130, .12);
  display: block;               /* ç”¨é€æ˜æ§åˆ¶é¡¯ç¤º */
  opacity: 0; transform: translateY(8px) scale(.98);
  pointer-events: none;
  z-index: 105;
}

/* æ‰“é–‹ç‹€æ…‹ */
.menu.show{
  opacity: 1; transform: translateY(0) scale(1);
  pointer-events: auto;
  transition: opacity .18s ease, transform .18s ease;
}

/* å°åœ“è§’åˆ†éš” + å“ç‰Œè‰²ç³»æŒ‰éˆ• */
.menu button{
  display:flex; align-items:center; gap:.5rem;
  width:100%;
  background: transparent;
  border: 0;
  padding: 10px 12px;
  border-radius: 10px;
  font-size: 15px; font-weight: 600;
  color: #176dff;                 /* æ·ºè—ç³»ä¸»è‰²ï¼Œèˆ‡ä¸»è¦–è¦ºå”èª¿ */
  letter-spacing:.2px;
  cursor:pointer;
}

/* hover / active çš„è¼•å¾®å›é¥‹ï¼ˆæ‰‹æ©Ÿä¹Ÿå¥½é»ï¼‰ */
.menu button:hover{
  background: linear-gradient(0deg,#eef6ff,#f7fbff);
}
.menu button:active{
  transform: translateY(1px);
}

/* é …ç›®ä¹‹é–“åŠ ä¸€é»é–“è· */
.menu button + button{ margin-top: 4px; }

/* æŒ‡å‘ FAB çš„å°å°¾å·´ */
.menu::after{
  content:"";
  position:absolute;
  right: 12px; bottom: -6px;
  width: 12px; height:12px;
  background: rgba(255,255,255,.72);
  border: 1px solid rgba(180,210,255,.35);
  border-top: none; border-left: none;
  transform: rotate(45deg);
  box-shadow: 4px 4px 10px rgba(0,60,130,.06);
}

/* åœ¨ã€Œå·²å®Œæˆã€æ™‚ç¦ç”¨ï¼ˆä½ å‰é¢å·²åš pointer-events/opactiyï¼Œä¹Ÿå¯æ²¿ç”¨ï¼‰ */
.fab[aria-disabled="true"]{
  pointer-events: none; opacity:.5; box-shadow: none;
}
/* é è¨­éƒ½ä¸é¡¯ç¤ºï¼Œé¿å…é–ƒçˆ */
#loginPage { display: none; }
.container { display: none !important; }

/* åªåœ¨ç¢ºå®šè¦é¡¯ç¤ºæ™‚ï¼Œæ‰æ‰“é–‹å°æ‡‰å€å¡Š */
html.show-login #loginPage { display: flex; }      /* é¡¯ç¤ºç™»å…¥é  */
html.show-app   .container { display: block !important; } /* é¡¯ç¤ºä¸»ç•«é¢ */

/* ===== è‡ªå‹•ç™»å…¥è¼‰å…¥å±¤ ===== */
#autologin-overlay{
  position: fixed; inset: 0;
  display: none;                  /* é è¨­ä¸é¡¯ç¤º */
  align-items: center;
  justify-content: center;
  background: rgba(255,255,255,.72);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  z-index: 260;                   /* é«˜æ–¼ modal(200) ä½†ä¸æ“‹ä½ ç™»å‡ºç¢ºèª(220) çš„è©±å¯èª¿é«˜åˆ° 260 */
}
#autologin-overlay.show{ display:flex; }

.autologin-box{
  display:flex; flex-direction:column; align-items:center; gap:.75rem;
  padding: 16px 18px;
  border-radius: 14px;
  background: rgba(255,255,255,.9);
  border: 1px solid rgba(180,210,255,.35);
  box-shadow: 0 12px 28px rgba(0,60,130,.12);
  transform: translateY(6px);
  animation: al-pop .2s ease-out forwards;
}

.autologin-loader{
  width: 42px; height: 42px; border-radius: 50%;
  border: 3px solid #e6f4ff;
  border-top-color: #00aaff;     /* è·Ÿä¸»è‰²ä¸€è‡´ */
  animation: al-spin .8s linear infinite;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.04);
}

.autologin-text{
  font-weight: 700;
  letter-spacing: .3px;
  color: #176dff;                 /* æ·ºè—ç³»å­—è‰² */
  font-size: 14px;
}

@keyframes al-spin { to { transform: rotate(360deg); } }
@keyframes al-pop {
  from { opacity: 0; transform: translateY(10px) scale(.98); }
  to   { opacity: 1; transform: translateY(0)    scale(1); }
}
/* Section å€ï¼šé—œé–‰æ–‡å­—é¸å–ã€iOS é•·æŒ‰å‘¼å«èœå–®ã€é»æ“Šé«˜äº® */
#section-container {
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}
#section-container .section {
  -webkit-tap-highlight-color: transparent;
  will-change: transform;
  transition: transform 120ms ease;
}

/* é»æ“Š/æŒ‰å£“çš„è¦–è¦ºå›é¥‹ */
.section.__pressed { transform: scale(0.985); }
@keyframes __bump {
  0% { transform: scale(1); }
  50%{ transform: scale(0.985); }
  100%{ transform: scale(1); }
}
.section.__bump { animation: __bump .18s ease; }

#section-container { touch-action: pan-y; }

/* æŠŠæª”æ¡ˆè£¡æ‰€æœ‰å…¶ä»– .fab åˆªæ‰ï¼Œåªç•™é€™æ®µï¼Œä¸¦æ”¾åœ¨ <style> çš„æœ€åº•éƒ¨ */
.fab{
  position: fixed; bottom: 24px; right: 24px;
  width: 48px; height: 48px; border-radius: 50%;
  display:flex; align-items:center; justify-content:center;
  background: rgba(0,170,255,0.85) !important; /* åŠé€æ˜ã€åæ·¡è— */
  color:#fff; font-size:28px; font-weight:700;
  box-shadow: 0 10px 22px rgba(0,0,0,.18);
  cursor:pointer; z-index: 110;
  transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease, background-color .2s ease;
}
.fab:hover{ background: rgba(0,170,255,0.95) !important; }
.fab:active{ transform: scale(.98); }
.fab.open{ transform: rotate(45deg); }

/* è®“é€²åº¦æ¢èˆ‡å…¶æ–‡å­—è“‹åœ¨æœ€ä¸Šå±¤ï¼Œé¿å…è¢«ä»»å‹™æ¨™é¡Œ/å¤©æ•¸é®ä½ */
.task{
  position: relative;
  overflow: hidden;
  /* æ–°å¢ï¼šé¿å…èˆ‡åŸç”Ÿå‚ç›´æ²å‹•æ‰“æ¶ */
  touch-action: pan-y;
}

.task .task-content, .task .task-days { position: relative; z-index: 2; }

.task .swipe-bar {
  position: absolute; top: 0; bottom: 0;
  width: 0%;
  z-index: 4;            /* â† æåˆ°æœ€ä¸Šå±¤ */
  display: flex; align-items: center;
  pointer-events: none;  /* ä¸æ””äº’å‹• */
  overflow: hidden;
  transition: width .18s ease;
}

/* é€²åº¦æ¢ä¸Šçš„æ–‡å­—ä¹Ÿç¢ºä¿åœ¨ä¸Šå±¤ */
.task .swipe-bar .label{
  position: relative;
  z-index: 5;            /* â† ä¿éšªï¼Œå†é«˜ä¸€å±¤ */
  white-space: nowrap;
  opacity: 0;
  transition: opacity .12s ease, transform .12s ease;
  font-weight: 800; letter-spacing: .3px;
  font-size: .98rem;
}

/* é¡è‰²èˆ‡å·¦å³é…ç½®ï¼ˆæ›´æ·ºç‰ˆæœ¬ï¼‰ */
.task .swipe-bar.right { 
  left: 0;  
  background: #d6fae8; /* éå¸¸æ·¡çš„ç¶ è‰² */
  color: #0e4a36; 
}
.task .swipe-bar.right .label{ margin-left:12px; transform: translateX(-6px); }
.task .swipe-bar.left {  
  right: 0; 
  background: #ffe4e6; /* éå¸¸æ·¡çš„ç´…è‰² */
  color: #5c2020; 
  justify-content: flex-end; 
}
.task .swipe-bar.left  .label{ margin-right:12px; transform: translateX(6px); }

/* å–æ¶ˆæ‰‹æ©Ÿé»æŒ‰é«˜äº® & ç„¦é»å¤–æ¡† */
.task { -webkit-tap-highlight-color: transparent; }
.task:focus, .task:focus-visible { outline: none; }

/* å‹•ç•«æœŸé–“è®“ GPU åˆæˆæ›´ç©©ï¼Œé¿å…é‚Šç·£ã€Œè™›ç·šã€ */
.task.swiping { will-change: transform; }
.task { backface-visibility: hidden; transform: translateZ(0); }

/* é€²åº¦æ¢ä¹Ÿé–‹åˆæˆï¼Œé‚Šç·£æ›´ç©©å®š */
.task .swipe-bar { will-change: width; transform: translateZ(0); }

/* æœ‰åœ“è§’æ™‚è®“å¡—è‰²ç·Šè²¼å…§å´ï¼Œé™ä½é‚Šç·£é‹¸é½’ */
.task { background-clip: padding-box; }

/* ä»Šæ—¥æ—¥æœŸï¼šå³ä¸Šè§’è¼•é‡æ–‡å­—å¼ */
#today-badge{
  position: fixed;
  top: 14px;
  right: 12px;
  z-index: 120;
  padding: 4px 8px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.4);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  color: rgba(50, 50, 50, 0.85);
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.3px;
  user-select: none;
  pointer-events: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}
/* äºŒé¸ä¸€å³å¯ï¼ˆå…ˆè©¦ Aï¼Œä¸å¤ å†ç”¨ Bï¼‰ */

/* A. æ¥µå°ä½ç§» */
#today-badge{ transform: translateX(0.5px); }

/* B. éå°ç¨± paddingï¼ˆå³é‚Šå¤š 1pxï¼‰ */
#today-badge{ padding-left: 9px; padding-right: 0px; }

/* ===== æ‹‰çµ²é‡‘å±¬ï¼ˆç„¡æ–·å±¤ç‰ˆï¼‰===== */
/* ç„¡ç¸«ã€ç©©å®šã€ä¸åƒ DPI çš„é‡‘å±¬åº• */
/* å¹³æ»‘éœ§é¢é‡‘å±¬æ•ˆæœï¼ˆç„¡æ ¼ç·šæ„Ÿï¼‰ */
body.bg-metal::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;

  /* æŸ”å…‰é«˜äº® + å‚ç›´åˆ·çµ²ç´‹è·¯ï¼ˆè¶…ç´°å¾®ï¼‰ */
  background-image:
    linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.12)),
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,0.03) 0px,
      rgba(255,255,255,0.03) 1px,
      rgba(0,0,0,0.02) 1px,
      rgba(0,0,0,0.02) 2px
    );

  background-blend-mode: screen, normal;

  /* è®“ç´‹ç†æ¥µåº¦ç´°ç·»ï¼Œé¿å…ç¶²æ ¼æ„Ÿ */
  background-size: 100% 100%, 600px 100%;
  background-repeat: no-repeat, repeat;

  /* è¼•å¾®å°æ¯”èˆ‡é£½å’Œåº¦ï¼Œä¿ç•™é‡‘å±¬æ„Ÿ */
  filter: contrast(103%) saturate(97%);
}


/* å±•é–‹åœ–ç¤º */
.expand-icon{
  display:inline-flex; align-items:center; justify-content:center;
  width:22px; height:22px; margin-left:.4rem;
  border-radius:4px; border:1px solid #ddd; background:#f8f8f8;
  cursor:pointer; font-size:12px; line-height:1; color:#555;
  transform: translateY(4px);            /* â¬… å¾€ä¸‹ç§»ä¸€é» */
}
.expand-icon:active{ transform: scale(.97); }

/* å¤§å‹é–±è®€é¢æ¿ */
#detailViewer{
  display:none;
}
#detailViewer.show{
  display:block;
}
#detailForm.hide{
  display:none;
}
.viewer-head{
  display:flex; align-items:center; justify-content:space-between;
  gap:.5rem; margin-bottom:.5rem;
}
.viewer-title{
  font-weight:700; font-size:1rem;
}
.viewer-close{
  border:1px solid #ddd; background:#f7f7f7; border-radius:6px;
  padding:.35rem .6rem; cursor:pointer;
}
.viewer-body{
  width:100%;
  min-height:50vh;
  padding:.75rem;
  border:1px solid #eee;
  border-radius:8px;
  background:#fafafa;
  line-height:1.6;
  font-size:.95rem;
  resize:vertical; /* å¯ä»¥èª¿æ•´é«˜åº¦ */
}
/* å¼·åˆ¶èª¿è‰²ç›¤æŒ‰éˆ•ç‚ºå°æ·ºåº•æ¨£å¼ */
button.palette-btn {
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  padding: 4px 8px !important;
  font-size: 0.85rem !important;
  font-weight: normal;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: #f9f9f9 !important;
  color: #333 !important;
  width: auto !important;
  min-width: unset !important;
  margin-top: -3rem; /* èˆ‡ã€Œæ›´æ›åº•è‰²ã€çš„è·é›¢ */
}
button.palette-btn:hover {
  background: #f1f1f1 !important;
}
button.palette-btn:active {
  background: #e8e8e8 !important;
}

/* èª¿è‰²ç›¤ä¹å®®æ ¼ */
.palette-grid{
  display:grid; grid-template-columns: repeat(3, 1fr);
  gap:.75rem;
}
.palette-choice{
  position:relative;
  width:100%; aspect-ratio:1/1; border-radius:12px; border:1px solid #e5e5e5;
  box-shadow: 0 1px 2px rgba(0,0,0,.06); cursor:pointer; overflow:hidden;
}
.palette-choice[data-color="#f6fbfe"]{ background:#f6fbfe; }
.palette-choice[data-color="#f3fcf8"]{ background:#f3fcf8; }
.palette-choice[data-color="#fffcf3"]{ background:#fffcf3; }
.palette-choice[data-color="#fef6f9"]{ background:#fef6f9; }
.palette-choice[data-color="#f9f8fd"]{ background:#f9f8fd; }
.palette-choice[data-color="#ffeded"]{ background:#ffeded; }
.palette-choice[data-color="#fff8f5"]{ background:#fff8f5; }
.palette-choice[data-color="#fdfcf9"]{ background:#fdfcf9; }
/* é‡‘å±¬ç‰¹æ•ˆï¼ˆçœ‹èµ·ä¾†åƒé‡‘å±¬ï¼‰ */
.palette-choice[data-color="metal"]{ background: #e5e5e5; }
.palette-choice .metal-sheen{
  position:absolute; inset:0;
  background:
    linear-gradient(135deg, rgba(255,255,255,.35), rgba(255,255,255,.1)),
    repeating-linear-gradient(90deg, rgba(255,255,255,.08) 0 1px, rgba(0,0,0,.04) 1px 2px);
  mix-blend-mode: screen; pointer-events:none;
}

/* é¸å–ç‹€æ…‹ */
.palette-choice.selected{
  outline: 3px solid #176dff;
  box-shadow: 0 0 0 3px rgba(23,109,255,.15) inset;
}
.filter-status .important-only{
  display:inline-flex; align-items:center; gap:.25rem;
  margin-left:.25rem; user-select:none; cursor:pointer;
}

/* å±•é–‹å±¤å·¥å…·åˆ—ï¼šå°å·§ã€ä¸ä½”ç©ºé–“ï¼Œä½†å¥½æŒ‰ */
.viewer-toolbar{
  display:flex;
  gap:.4rem;
  margin: .1rem 0 .4rem;
}

.vt-btn{
  border:1px solid #ddd;
  background:#f8f8f8;
  border-radius:6px;
  padding:.3rem .5rem;
  font-size:1rem;
  line-height:1;
  cursor:pointer;
  transition: background .15s ease, transform .02s ease, opacity .2s ease;
}
.vt-btn:hover{ background:#f1f1f1; }
.vt-btn:active{ transform: translateY(1px); }
.vt-btn[disabled]{ opacity:.45; cursor:not-allowed; }

/* ç·¨è¼¯åˆ†é¡æ™‚ï¼Œä»»å‹™å¡ä¸å¯äº’å‹•/ä¸å¯æ»‘å‹• */
.section.edit-mode .task,
.section.edit-mode .task * {
  pointer-events: none !important;
}
/* é †ä¾¿æŠŠæ»‘å‹•æŒ‡ç¤ºæ¢è—èµ·ä¾†ï¼Œé¿å…è¦–è¦ºå¹²æ“¾ */
.section.edit-mode .task .swipe-bar {
  display: none !important;
}
/* ===== Recurrence picker (inline + modal) ===== */
.rec-mode-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem;margin-top:.5rem}
.rec-bigbtn{padding:.6rem .8rem;border:1px solid #ddd;border-radius:8px;background:#f7fbff;cursor:pointer;font-weight:700}
.rec-bigbtn:hover{background:#eef6ff}
.rec-chiprow{display:flex;flex-wrap:wrap;gap:.5rem;margin:.5rem 0}
.rec-chip{min-width:35px;padding:.45rem .6rem;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer;text-align:center}
.rec-chip.selected{background:#176dff22;border-color:#176dff}
.rec-footer{display:flex;gap:.75rem;margin-top:1rem}
.rec-footer button{flex:1;padding:.6rem;border:none;border-radius:8px;cursor:pointer}
.btn-light{background:#f2f2f2}
.btn-primary{background:#176dff;color:#fff}
.rec-cal-head{display:flex;align-items:center;justify-content:space-between;margin:.25rem 0 .5rem}
.rec-nav{display:flex;gap:.4rem}
.rec-nav button{padding:.25rem .5rem;border:1px solid #ddd;border-radius:6px;background:#fff;cursor:pointer}
.rec-cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:.35rem}
.rec-dayname{font-size:.8rem;color:#666;text-align:center}
.rec-date{aspect-ratio:1/1;border:1px solid #eee;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer}
.rec-date.selected{outline:3px solid #176dff55;border-color:#176dff}

/* === æ—¥æœŸå¾½ç«  â†’ å¯é»æŒ‰éˆ• + æ—¥æ›†æœ‰ä»»å‹™ç´…å­— === */
#today-badge{
  pointer-events: auto;   /* åŸæœ¬æ˜¯ noneï¼Œæ”¹æˆå¯é» */
  cursor: pointer;
}
#today-badge:active{ transform: translateY(1px); }

/* æœˆæ›†ä¸­ï¼Œç•¶å¤©è‹¥æœ‰ä»»å‹™ï¼ˆæœ‰é å®šå®Œæˆæ—¥ï¼‰â†’ ç´…å­— */
.rec-date.has-task{
  color: #d33;
  font-weight: 700;
}
/* ===== æœå°‹æ¬„ï¼ˆæ”¾åœ¨ moreModal è£¡ï¼‰ ===== */
#moreModal .modal-content { position: relative; }
.search-wrap{
  max-width: 200px;
  margin: 0 auto .25rem;
  display:flex; align-items:center; gap:.5rem;
  margin:0 0 .25rem 0; padding:10px 12px;
  border-radius:12px;
  background: rgba(255,255,255,.86);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  border:1px solid rgba(180,210,255,.35);
  box-shadow: 0 8px 20px rgba(0,60,130,.08);
}
.search-ico{ font-size:1rem; opacity:.7; transform:translateY(1px); pointer-events:none; }
#taskSearchInput{
  flex:1; height:24px; border:0; outline:none; background:transparent; font-size:12px;
}
#taskSearchInput::placeholder{ color:#9aa7bd; }
.search-clear{
  border:0; background:#eef3ff; color:#4a6aa8;
  width:20px; height:20px; font-size:12px;border-radius:50%;
  cursor:pointer; font-weight:700; line-height:1;
  display:inline-flex; align-items:center; justify-content:center;
  box-shadow:0 1px 2px rgba(0,0,0,.06);
}
.search-clear:active{ transform:translateY(1px); }

/* æœå°‹éš±è—ï¼ˆä¸å½±éŸ¿å…¶å®ƒç¯©é¸ï¼Œèƒ½ç–ŠåŠ ï¼‰ */
.task.search-hide{ display:none !important; }
/* === Login page legal links === */
/* ç½®åº•çš„æ”¿ç­–é€£çµï¼ˆä¸æ“‹ç•«é¢ï¼‰ */
/* ç½®åº•ï¼Œå·¦å³åˆ†ä½ˆçš„æ”¿ç­–é€£çµ */
/* ç½®åº•ï¼Œç½®ä¸­æ’åˆ—ï¼Œå…©å€‹é€£çµå·¦å³åˆ†é–‹ */
/* é€£çµ¡æˆ‘å€‘/æ”¿ç­–åˆ—ï¼šæ‰‹æ©Ÿä¹Ÿå›ºå®šæ©«å‘æ’åˆ— */
.legal-links{
  position: fixed;
  left: 50%;
  bottom: max(16px, env(safe-area-inset-bottom));
  transform: translateX(-50%);
  display: flex;
  flex-wrap: nowrap;               /* â¬… ä¸å…è¨±æ›è¡Œ */
  gap: 10px;
  justify-content: center;
  align-items: center;
  z-index: 150;

  /* çª„è¢å¹•æ™‚å¯æ°´å¹³æ»‘å‹•ï¼Œä¸æœƒæ“ å£“è·‘ç‰ˆ */
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding: 0 8px;
  max-width: 100vw;                /* é¿å…è¶…å‡ºè¢å¹• */
}

.legal-links a{
  flex: 0 0 auto;                  /* â¬… å›ºå®šæ©«å‘ä¸€é¡†æ¥ä¸€é¡† */
  color: #176dff;
  text-decoration: none;
  background: #eef6ff;
  border: 1px solid #d6eaff;
  padding: 8px 12px;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  min-width: 100px;                /* ä¿æŒå¯é»çš„æŒ‰éˆ•å¯¬ */
  text-align: center;
  font-size: 14px;
  font-weight: 700;
}

/* å¯é¸ï¼šéš±è—æ°´å¹³æ²è»¸ï¼ˆä¿ç•™å¯æ»‘å‹•ï¼‰ */
.legal-links::-webkit-scrollbar{ display:none; }

.legal-links a:hover{ background:#e6f1ff; }
.legal-links a:active{ transform: translateY(1px); }

/* è¶…å°è¢å¹•æ™‚ï¼ˆâ‰¤360pxï¼‰ï¼Œæ¯å€‹æŒ‰éˆ•åƒæ»¿è¡Œå¯¬ï¼Œé¿å…æ“ å£“ */
@media (max-width: 360px){
  .legal-links{
    gap: 8px;
    width: calc(100% - 24px);  /* é‚Šç·£ä¿ç•™äº›è¨±ç©ºç™½ */
  }
  .legal-links a{
    min-width: unset;
    width: 100%;
  }
}

/* æ›´å¤šè¦–çª—ä¸­çš„ã€Œé€£çµ¡æˆ‘å€‘ã€è¼•é‡æ¨£å¼ */
.more-contact{
  margin-top: .25rem;
  text-align: center;
  font-size: .92rem;
}
.more-contact a{
  color:#176dff;
  text-decoration:none;
}
.more-contact a:hover{ text-decoration: underline; }





  </style>
</head>
<body>
<!-- ç™»éŒ„é é¢ -->
<div id="loginPage">
  <div id="loginCard">
   <h1 style="display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 24px;">
  <img src="https://cdn.jsdelivr.net/gh/a355226/kj-reminder/reminder.png" alt="icon" width="40" style="position: relative; top: 1px;">
  MyTask
</h1>

    <label class="login-label">è‡ªè¨‚å¸³è™Ÿ</label>
    <input type="text" id="login-username" class="login-input" placeholder="è«‹è¼¸å…¥å¸³è™Ÿ">

    <label class="login-label">è‡ªè¨‚å¯†ç¢¼</label>
    <input type="password" id="login-password" class="login-input" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">

    <label class="login-checkrow">
      <input type="checkbox" id="auto-login">
      <span>è‡ªå‹•ç™»å…¥</span>
    </label>

    <button id="login-btn" class="login-btn">ç™»å…¥</button>

    <p class="login-tip">å¹³å°å…è¨»å†Šï¼Œè‡ªè¨‚å¸³è™Ÿå¯†ç¢¼å³å¯ç™»éŒ„</p>
  </div>

  <!-- â–¼ æ–°å¢ï¼šç™»å…¥é é¢ä¸‹æ–¹çš„æ”¿ç­–é€£çµï¼ˆæ¸…æ¥šã€å¯é»ï¼‰ -->
  <div class="legal-links" role="contentinfo" aria-label="æ”¿ç­–é€£çµ">
    <a href="https://kjapps.com/privacy.html"
       target="_blank" rel="noopener noreferrer"
       aria-label="é–‹å•Ÿéš±ç§æ¬Šæ”¿ç­–ï¼ˆæ–°åˆ†é ï¼‰">éš±ç§æ¬Šæ”¿ç­–</a>
    <a href="https://kjapps.com/terms.html"
       target="_blank" rel="noopener noreferrer"
       aria-label="é–‹å•Ÿæœå‹™æ¢æ¬¾ï¼ˆæ–°åˆ†é ï¼‰">æœå‹™æ¢æ¬¾</a>
         <!-- âœ… æ–°å¢ï¼šé€£çµ¡æˆ‘å€‘ï¼ˆmailtoï¼‰ -->
         <a href="https://kjapps.com/aboutus.html"
         target="_blank" rel="noopener noreferrer"
         aria-label="é–‹å•Ÿéš±ç§æ¬Šæ”¿ç­–ï¼ˆæ–°åˆ†é ï¼‰">è¯çµ¡æˆ‘å€‘</a>
  </div>
  <!-- â–² æ–°å¢çµæŸ -->
</div>




<div class="container" style="display:flex; justify-content:center;">

<div style="text-align:center">
  <h1 class="app-title">
    <a href="mymemo.html" class="title-link">
      <img src="https://cdn.jsdelivr.net/gh/a355226/kj-reminder/reminder.png"
           alt="icon" width="40">
      <span>MyTask</span>
    </a>
  </h1>
</div>

<style>
  /* åªä¿ç•™ h1 çš„å­—ç´š/é–“è·ï¼Œé—œæ‰å¤–å±¤ hover/é™°å½±/åœ“è§’ */
  h1.app-title{
    font-size:24px;
    margin:6px 0 10px;
    padding:0;                 /* â† å–æ¶ˆå¤–å±¤å…§è· */
    border-radius:0;           /* â† å–æ¶ˆå¤–å±¤åœ“è§’ */
    background:transparent;
    box-shadow:none;
  }
  h1.app-title:hover{          /* â† æ“‹æ‰å…¨åŸŸ h1:hover */
    background:transparent !important;
    box-shadow:none !important;
  }

  /* è† å›Šåªå¥—åœ¨ aï¼Œä¸Šä¸‹æ„Ÿå®Œå…¨ä¸€é«” */
  .title-link{
    display:inline-flex;
    align-items:center;
    gap:10px;
    padding:4px 10px;
    border-radius:8px;
    text-decoration:none;
    color:inherit;
    cursor:pointer;
    line-height:1;
    -webkit-tap-highlight-color: transparent; /* iOS é»æ“Šåˆ¥å†å‡ºç°è‰²å¡Š */
  }
  .title-link:hover{
    background:rgba(0,0,0,.05);
    box-shadow:0 0 0 2px rgba(0,0,0,.08) inset;
  }
  .title-link:active{ transform: translateY(1px); }
  .title-link:focus-visible{ outline:2px solid #176dff; outline-offset:2px; }

  .title-link img{ display:block; transform: translateY(2px); }
</style>




<div id="today-badge" aria-label="ä»Šå¤©æ—¥æœŸ"></div>
<!-- å³ä¸Šè§’ ... æŒ‰éˆ• -->
<div class="more-btn" onclick="openModalById('moreModal')">â‹¯</div>
<div id="section-container">
<div id="doneMore" style="display:none; text-align:right; margin:0.25rem 0;">
  <button id="doneMoreBtn" style="border:0; background:#eee; padding:6px 10px; border-radius:8px; cursor:pointer;">æ›´å¤šâ€¦</button>
  <div id="doneMonthMenu" style="display:none; position:absolute; right:16px; background:#fff; border:1px solid #ddd; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,.08); padding:6px; z-index:50;"></div>
</div>

  </div>

  <div class="fab" onclick="toggleMenu()">ï¼‹</div>
<div class="menu" id="menu">
<button onclick="openModal()" 
        style="background:#e6f6fc; color:#0091cc; font-weight:600; 
               padding:8px 16px; border:none; border-radius:8px; 
               box-shadow:0 2px 4px rgba(0,0,0,.08); cursor:pointer; 
               margin-bottom:12px;">
  æ–°å¢ä»»å‹™
</button>

<button onclick="openCategoryModal()" 
        style="background:#e9f9f1; color:#1fa87a; font-weight:600; 
               padding:8px 16px; border:none; border-radius:8px; 
               box-shadow:0 2px 4px rgba(0,0,0,.08); cursor:pointer; 
               margin-bottom:12px;">
  æ–°å¢åˆ†é¡
</button>

<button onclick="enterEditMode()" 
        style="background:#fff6e6; color:#d98a00; font-weight:600; 
               padding:8px 16px; border:none; border-radius:8px; 
               box-shadow:0 2px 4px rgba(0,0,0,.08); cursor:pointer;">
  ç·¨è¼¯åˆ†é¡
</button>
</div>

<!-- âœ… æ–°å¢çš„æŒ‰éˆ•ï¼Œè®“ä½¿ç”¨è€…å®Œæˆç·¨è¼¯åˆ†é¡ -->
<button id="exitEditBtn" onclick="exitEditMode()" style="
  display: none;
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #e3ffe8;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 6px 14px;
  font-size: 13px;
  font-weight: bold;
  cursor: pointer;
  z-index: 10;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
">âœ…</button>


<!-- æ–°å¢ä»»å‹™è¦–çª— -->
<div class="modal" id="taskModal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal('taskModal')">âœ•</button>
    <h3>æ–°å¢ä»»å‹™</h3>
  <label>ä»»å‹™åˆ†é¡</label>
  <div class="inline-row">
    <!-- é€™è£¡è¦ç”¨ taskSectionï¼ˆä¸æ˜¯ detailSectionï¼‰-->
    <select id="taskSection" class="half">
    </select>

    <!-- é€™è£¡è¦ç”¨ taskImportantï¼ˆä¸æ˜¯ detailImportantï¼‰-->
    <label class="important-flag">
      <input type="checkbox" id="taskImportant">
      é‡è¦
    </label>
  </div>

      <label>ä»»å‹™æ¨™é¡Œ(å¿…å¡«)</label>
      <input type="text" id="taskTitle">
      <label>ä»»å‹™å…§å®¹</label>
      <textarea id="taskContent"></textarea>
      <label>é å®šå®Œæˆæ—¥</label>
      <input type="date" id="taskDate">
      <label>è™•ç†æƒ…å½¢</label>
      <textarea id="taskNote"></textarea>
      <button onclick="addTask()" style="font-weight:bold;">æ–°å¢</button>
    </div>
  </div>

  <!-- ä»»å‹™å…§å®¹æª¢è¦–è¦–çª— -->
  <div class="modal" id="detailModal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('detailModal')">âœ•</button>
    <h3 style="display:flex;align-items:center;gap:.5rem;">
  <span>ä»»å‹™è³‡è¨Š</span>
  <small id="detailLastUpdate" style="font-size:.9rem;color:#666;white-space:nowrap;margin-left:.5rem;"></small>
</h3>



<!-- â–¼ è¡¨å–®è¦–åœ–ï¼šé è¨­é¡¯ç¤º -->
<div id="detailForm">
  <label>ä»»å‹™åˆ†é¡</label>
  <div class="inline-row">
    <select id="detailSection" class="half"></select>
    <label class="important-flag">
      <input type="checkbox" id="detailImportant"> é‡è¦
    </label>
  </div>

  <label>ä»»å‹™æ¨™é¡Œ</label>
  <input type="text" id="detailTitle">

  <!-- ä»»å‹™å…§å®¹ï¼šåŠ å±•é–‹éˆ• -->
  <div class="label-row" style="display:flex;align-items:center;">
    <label for="detailContent">ä»»å‹™å…§å®¹</label>
    <button type="button"
            class="expand-icon"
            onclick="toggleDetailExpand('detailContent','ä»»å‹™å…§å®¹')"
            title="å±•é–‹" aria-label="å±•é–‹ä»»å‹™å…§å®¹">â¤¢</button>
  </div>
  <textarea id="detailContent"></textarea>
  

  <label>é å®šå®Œæˆæ—¥</label>
  <input type="date" id="detailDate">

  <!-- è™•ç†æƒ…å½¢ï¼šåŠ å±•é–‹éˆ• -->
  <div class="label-row" style="display:flex;align-items:center;">
    <label for="detailNote">è™•ç†æƒ…å½¢</label>
    <button type="button"
            class="expand-icon"
            onclick="toggleDetailExpand('detailNote','è™•ç†æƒ…å½¢')"
            title="å±•é–‹" aria-label="å±•é–‹è™•ç†æƒ…å½¢">â¤¢</button>
  </div>
  <textarea id="detailNote"></textarea>
  

  <div style="display: flex; gap: 0.5rem;">
    <button class="save-btn-half" onclick="saveTask()">ğŸ’¾ å„²å­˜</button>
    <button class="delete-btn-half" onclick="confirmDelete()">ğŸ—‘ï¸ ç§»é™¤</button>
  </div>

  <!-- æ»‘å‹•å®Œæˆ -->
  <div class="slide-complete" id="slideComplete">
    <div class="slide-track">
      <div class="slide-hint">â¡ å¾€å³æ‹–æ‹‰å®Œæˆ</div>
      <div class="slide-fill" id="slideFill"></div>
      <div class="slide-handle" id="slideHandle" aria-label="å¾€å³æ‹–æ‹‰å®Œæˆ"></div>
    </div>
  </div>
</div>
<!-- â–² è¡¨å–®è¦–åœ– -->

<!-- â–¼ é–±è®€è¦–åœ–ï¼šå±•é–‹å¾Œé¡¯ç¤ºï¼ˆé è¨­éš±è—ï¼‰ -->
<div id="detailViewer">
  <div class="viewer-head">
    <div class="viewer-title" id="viewerTitle"></div>
    <button type="button" class="viewer-close" onclick="toggleDetailExpand()">â¤¢</button>
  </div>
    <!-- âœ… æ–°å¢ï¼šå±•é–‹å±¤ä¸‰éµå·¥å…·åˆ— -->
  <div class="viewer-toolbar">
    <button class="vt-btn" title="é‚„åŸ" onclick="viewerUndo()">â¤º</button>
    <button class="vt-btn" title="å¾©åŸ" onclick="viewerRedo()">â¤»</button>
    <button class="vt-btn" title="è¤‡è£½" onclick="viewerCopy()">â§‰
</button>
  </div>
  <textarea class="viewer-body" id="viewerBody"></textarea>

</div>
<!-- â–² é–±è®€è¦–åœ– -->


    </div>
  </div>

  <script src="./app.js" defer></script>

 


<div id="check-success">
  <svg viewBox="0 0 52 52">
    <!-- æ–°å¢çš„ç™½åº• -->
    <circle cx="26" cy="26" r="25" fill="#fff"/>
    <!-- åŸæœ¬çš„å‹•ç•«åœˆèˆ‡å‹¾å‹¾ -->
    <circle class="circle" cx="26" cy="26" r="18" fill="none"/>
    <path class="check" fill="none" d="M14 27l7 7 16-16"/>
  </svg>
</div>


<div class="modal" id="confirmModal">
  <div class="modal-content">
    <h3 style="text-align: center;">æ˜¯å¦ç¢ºèªç§»é™¤æ­¤ä»»å‹™ï¼Ÿ</h3>
    <div class="confirm-buttons">
      <button class="confirm-btn" onclick="deleteTask()">ç¢ºèª</button>
      <button class="cancel-btn" onclick="closeModal('confirmModal')">è¿”å›</button>
    </div>
  </div>
</div>

<!-- âœ… ç™»å‡ºç¢ºèª modal è¦å’Œä¸Šé¢åŒä¸€å±¤ï¼Œåƒè¬ä¸è¦æ”¾åœ¨ confirmModal è£¡ -->
<div class="modal" id="logoutModal">
  <div class="modal-content">
    <h3 style="text-align:center;">æ˜¯å¦ç¢ºèªç™»å‡ºï¼Ÿ</h3>
    <div class="confirm-buttons">
      <button class="confirm-btn" onclick="doLogout()">ç¢ºèª</button>
      <button class="cancel-btn" onclick="closeModal('logoutModal')">å–æ¶ˆ</button>
    </div>
  </div>
</div>

<div class="modal" id="categoryModal">
  <div class="modal-content">
<h3 style="text-align: center;">æ–°å¢åˆ†é¡</h3>
<input type="text" id="newCategoryName" placeholder="è«‹è¼¸å…¥åˆ†é¡åç¨±">
    <div class="confirm-buttons">
      <button class="confirm-btn" onclick="addCategory()">ç¢ºèª</button>
      <button class="cancel-btn" onclick="closeModal('categoryModal')">å–æ¶ˆ</button>
    </div>
  </div>
</div>
<!-- é‡å‘½ååˆ†é¡ Modal -->
<div class="modal" id="renameModal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal('renameModal')">âœ•</button>
    <h3 style="text-align:center;">é‡æ–°å‘½ååˆ†é¡</h3>
    <input type="text" id="renameInput" placeholder="è«‹è¼¸å…¥æ–°çš„åˆ†é¡åç¨±" />
    <div class="confirm-buttons">
      <button class="confirm-btn" onclick="confirmRename()">ç¢ºèª</button>
      <button class="cancel-btn" onclick="closeModal('renameModal')">å–æ¶ˆ</button>
    </div>
  </div>
</div>




<!-- æ›´å¤šåŠŸèƒ½ Modal -->
<div class="modal" id="moreModal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal('moreModal')">âœ•</button>
    <!-- ğŸ” æœå°‹æ¬„ï¼ˆåªä¿ç•™å³å´ Xï¼‰ -->
<div id="globalSearch" class="search-wrap modal-search" role="search" aria-label="æœå°‹ä»»å‹™">
  <span class="search-ico" aria-hidden="true">ğŸ”</span>
  <input id="taskSearchInput" type="text" autocomplete="off"
         placeholder="åœ¨MyTaskä¸­æœå°‹" aria-label="æœå°‹æ¨™é¡Œã€ä»»å‹™å…§å®¹ã€è™•ç†æƒ…å½¢">
  <button id="taskSearchClear" class="search-clear" aria-label="æ¸…é™¤æœå°‹">âœ•</button>
</div>

    <h3>ç¯©é¸å‰©é¤˜å¤©æ•¸</h3>
<div class="filter-days">
  <label><input type="radio" name="daysFilter" value="1"> 1</label>
  <label><input type="radio" name="daysFilter" value="3"> 3</label>
  <label><input type="radio" name="daysFilter" value="5"> 5</label>
  <label><input type="radio" name="daysFilter" value="all"> ç„¡</label>
  <label><input type="radio" name="daysFilter" value="default" checked> é è¨­</label>
</div>
<h3>ä»»å‹™ç‹€æ…‹</h3>
<div class="filter-status">
  <label><input type="radio" name="statusFilter" value="ongoing" checked> é€²è¡Œä¸­</label>
  <label><input type="radio" name="statusFilter" value="done"> å·²å®Œæˆ</label>
  <!-- âœ… æ–°å¢ï¼šé‡è¦é–‹é—œï¼ˆæœ€å¾Œä¸€å±¤ç¯©é¸ï¼‰ -->
  <label class="important-only" title="åªçœ‹â—é‡è¦">
    <input type="checkbox" id="importantOnly"> â—
  </label>
</div>
<h3>å¤©æ•¸è¨­å®š</h3>
<div class="filter-mode">
  <label><input type="radio" name="dayMode" value="work" checked> å·¥ä½œå¤©</label>
  <label><input type="radio" name="dayMode" value="calendar"> æ—¥æ›†å¤©</label>
</div>
<h3>æ›´æ›åº•è‰²</h3>
<button id="openPaletteBtn" class="palette-btn">ğŸ¨ èª¿è‰²ç›¤</button>
<hr style="margin:1rem 0;border:none;border-top:1px solid #eee;">
<button class="logout-btn" style="font-weight:bold;" onclick="openLogoutModal()">ç™»å‡º</button>

  </div>
</div>

<!-- è‡ªå‹•ç™»å…¥è¼‰å…¥ä¸­ -->
<div id="autologin-overlay" aria-hidden="true">
  <div class="autologin-box">
    <div class="autologin-loader"></div>
    <div class="autologin-text">è‡ªå‹•ç™»å…¥ä¸­â€¦</div>
  </div>
</div>
<div class="modal" id="welcomeModal">
  <div class="modal-content" style="text-align:left; line-height:1.6;">
    <h3 style="text-align:center;">ğŸ‘‹ æ­¡è¿ä½¿ç”¨ MyTask</h3>
    <ol style="padding-left:1.2rem; margin-top:0.8rem;">
      <li>å³ä¸‹ã€Œï¼‹ã€æ–°å¢ä»»å‹™æˆ–åˆ†é¡</li>
      <li>é•·æŒ‰åˆ†é¡ç©ºç™½è™•ï¼Œå¯å¿«é€Ÿæ–°å¢</li>
      <li>é»ã€Œä»»å‹™ã€å¯æŸ¥çœ‹/ç·¨è¼¯å…§å®¹</li>
      <li>å³æ»‘ã€Œä»»å‹™ã€å¿«é€Ÿå®Œæˆ/å·¦æ»‘ç§»é™¤</li>
      <li>å·¦ä¸Šã€Œâ‹¯ã€å¯åˆ‡æ›ç¯©é¸æ¢ä»¶ç­‰åŠŸèƒ½</li>
      <li style="font-weight:bold; color:#ff462e;">é»æ“Šã€ŒMyTaskã€åˆ‡æ›ã€Œå‚™å¿˜æ¨¡å¼ã€</li>
<li style="font-weight:bold; color:#007BFF;">æ–°å¢ç¬¬ä¸€å€‹ã€Œåˆ†é¡ã€é–‹å§‹ä½¿ç”¨ï¼</li>
    </ol>
    <button class="confirm-btn" style="margin-top:1rem; width:100%;" onclick="closeModal('welcomeModal')">æˆ‘çŸ¥é“äº†</button>
  </div>
</div>

<!-- èª¿è‰²ç›¤ Modal -->
<div class="modal" id="paletteModal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal('paletteModal')">âœ•</button>
    <h3 style="text-align:center;">é¸æ“‡åº•è‰²</h3>

    <div class="palette-grid" id="paletteGrid" style="margin-top:.5rem;">
      <!-- æ¯å€‹è‰²å¡Šç”¨ data-color æ¨™è¨˜ -->
      <button class="palette-choice" data-color="#f6fbfe" title="é è¨­"></button>
      <button class="palette-choice" data-color="#f3fcf8" title="æ·ºç¶ "></button>
      <button class="palette-choice" data-color="#fffcf3" title="æ·ºé»ƒ"></button>
      <button class="palette-choice" data-color="#fef6f9" title="æ·ºç²‰"></button>
      <button class="palette-choice" data-color="#f9f8fd" title="æ·¡ç´«"></button>
      <button class="palette-choice" data-color="#ffeded" title="æ·ºæ£•"></button>
      <button class="palette-choice" data-color="#fff8f5" title="æ·ºæ©˜"></button>
      <button class="palette-choice" data-color="#fdfcf9" title="ç±³ç™½"></button>
      <button class="palette-choice" data-color="metal"  title="éµç°ï¼ˆé‡‘å±¬ï¼‰">
        <span class="metal-sheen"></span>
      </button>
    </div>

    <div class="confirm-buttons" style="margin-top:1rem;">
      <button class="confirm-btn" id="paletteConfirmBtn">ç¢ºèª</button>
      <button class="cancel-btn" onclick="closeModal('paletteModal')">å–æ¶ˆ</button>
    </div>
  </div>
</div>

<!-- æ—¥æœŸç¯©é¸ï¼šæœˆæ›† Modal -->
<div class="modal" id="dateFilterModal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal('dateFilterModal')">âœ•</button>
    <h3 style="text-align:center;">é¸æ“‡æ—¥æœŸ</h3>

    <div class="rec-cal-head">
      <div class="rec-nav">
        <button id="dfPrev">&lt;</button>
        <button id="dfToday">ä»Š</button>
        <button id="dfNext">&gt;</button>
      </div>
      <div id="dfYM"></div>
    </div>

    <div class="rec-cal-grid" id="dfCalNames"></div>
    <div class="rec-cal-grid" id="dfCalGrid"></div>

    <div class="confirm-buttons" style="margin-top:1rem;">
      <button class="confirm-btn" id="dfClearBtn">é¡¯ç¤ºå…¨éƒ¨</button>
      <button class="cancel-btn" onclick="closeModal('dateFilterModal')">é—œé–‰</button>
    </div>
  </div>
</div>


</body>
</html>
